# input mappings / libinput config
include input

# more specific configuration at runtime
exec_always ~/.config/sway/configure.sh

# notification daemon
exec mako

# session restore
# exec ~/code/sway-session/sway-session restore && ~/code/sway-session/sway-session save-loop 24

# authentication popups
exec /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# kde connect daemon
# exec /usr/lib/kdeconnectd

# screen management
# see this issue https://github.com/emersion/kanshi/issues/43
# we restart kanshi on reload to ensure output configuration is reapplied
exec_always "pkill kanshi; kanshi"

exec env RUST_BACKTRACE=1 swayrd > /tmp/swayrd.log 2>&1

# exec_always "pkill wlsunset; wlsunset -l 37.8 -L 145.0"

# fade windows in and out
# exec ~/.config/sway/fader.py

# key/mouse/lid switch bindings
include bindings

# colors and fonts
include rice

# app-specific settings and overrides
include apps

# includes, amongst other things, a fix for DISPLAY and WAYLAND_DISPLAY env-vars on Arch Linux
include /etc/sway/config.d/*

bar {
    swaybar_command waybar
}

focus_on_window_activation urgent
focus_wrapping yes
workspace_auto_back_and_forth no