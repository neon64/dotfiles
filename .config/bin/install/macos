#!/bin/bash

# installs the fish shell and everything else required to work with these dotfiles
base_shell_pkgs=(
    fish # shell of choice
    neovim # text editor - either use because its awesome, or as console backup
    tmux # terminal multiplexer, provides multiple concurrent panes whilst running system updates using the `up` script
    exa # file listing in Rust
    bat # cat clone with extras (also just happens to be written in Rust)
    git # version control
    fzf # fuzzy file finder
    fd # nice alternative to `find`, written in Rust, and used in our fzf config
    highlight # syntax highlighting when previewing documents
)

function install_group {
    name=$1
    shift
    confirm " - \`$name\`?" && brew install "$@"
}

function install_pkgs {
        install_group base_shell_pkgs "${base_shell_pkgs[@]}"
}

function update_pkgs {
       brew upgrade
}

function install_system {
    if $FRESH_INSTALL; then
        echo ""
        confirm "Install packages through Homebrew?" && install_pkgs
        echo ""
    else
        echo ""
        confirm "Update packages through Homebrew?" && update_pkgs
        echo ""
    fi
}