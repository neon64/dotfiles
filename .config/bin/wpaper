#!/bin/bash

echo "Select a new wallpaper:"
mkdir -p ~/Pictures
wallpaper=$(cd ~/Pictures && find . -maxdepth 1 -type f | sed 's/^\.\///g'| grep -v "wallpaper-current" | fzf --reverse --height=10 --min-height=5)

if [ "$wallpaper" = '' ]; then
    echo "No wallpaper selected, aborting..."
    exit 1
fi

wallpaper="$HOME/Pictures/$wallpaper"
ln -sf $wallpaper ~/Pictures/wallpaper-current.jpg && echo "'wallpaper-current.jpg' points to '$wallpaper'"

swaymsg reload
