#!/bin/bash

BLUE="\e[34m"
MAGENTA="\e[35m"
RED="\e[31m"
YELLOW="\e[33m"
GREEN="\e[32m"
BOLD="\e[1m"
RESET_FMT="\e[0m"

echo -e "${BLUE}Select a new wallpaper:${RESET_FMT}"
mkdir -p ~/Pictures/Wallpapers
wallpaper=$(cd ~/Pictures/Wallpapers && find . -type f | sed 's/^\.\///g'| grep -v "wallpaper-current" | fzf --reverse --height=10 --min-height=5 --color=16)

if [ "$wallpaper" = '' ]; then
    echo "No wallpaper selected, aborting..."
    exit 1
fi

wallpaper="$HOME/Pictures/Wallpapers/$wallpaper"
ln -sf $wallpaper ~/Pictures/Wallpapers/wallpaper-current.jpg && echo "'wallpaper-current.jpg' points to '$wallpaper'"

swaymsg reload
