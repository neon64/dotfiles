#!/bin/bash

termwidth=80
PKG_BUILD_DIR="$HOME/Code/Packages"
BLUE="\033[34m"
MAGENTA="\033[35m"
RED="\033[31m"
YELLOW="\033[33m"
GREEN="\033[32m"
BOLD="\033[1m"
RESET_FMT="\033[0m"
OS="`uname`"
NO_CONFIRM=false

case $1 in
    '--update')
        FRESH_INSTALL=false
        ;;
    '--autoUpdate')
        FRESH_INSTALL=false
        NO_CONFIRM=true
        ;;
    * )
        FRESH_INSTALL=true
        ;;
esac

function header {
	echo -e "${BOLD}====> ${BLUE}$1${RESET_FMT}"
}

function section {
    echo ""
    title=$(echo "$1"| tr a-z A-Z)
    text="$title"
    padding="$(printf '%0.1s' -{1..500})"
    printf "%*.*s ${BOLD}%s${RESET_FMT} %*.*s\n" 0 "$(((termwidth-2-${#text})/2))" "$padding" "$text" 0 "$(((termwidth-1-${#text})/2))" "$padding"
    echo ""
}

function warn {
	echo -e "${BOLD}   -> ${YELLOW}$1${RESET_FMT}"
}

function confirm {
    if $NO_CONFIRM; then
        return 0
    fi
    echo -en "${BOLD}====> ${GREEN}$1${RESET_FMT}"
    while true; do
        read -n1 -p " (y/n/e) " yn
        case $yn in
            [Yy]* ) echo "" && return 0;;
            [Nn]* ) echo "" && return 1;;
            [Ee]* ) echo "" && echo "" && warn "user aborted script, exiting..." && exit 1;;
            * ) echo -e "\nPlease answer yes or no.";;
        esac
    done
}
